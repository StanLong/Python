# ä¸€ã€æ¦‚å¿µ

## 1. ä»€ä¹ˆæ˜¯äº’è”ç½‘çˆ¬è™«

- è§£é‡Š1ï¼šé€šè¿‡ä¸€ä¸ªç¨‹åºï¼Œæ ¹æ®Url(http://www.taobao.com)è¿›è¡Œçˆ¬å–ç½‘é¡µï¼Œè·å–æœ‰ç”¨ä¿¡æ¯
- è§£é‡Š2ï¼šä½¿ç”¨ç¨‹åºæ¨¡æ‹Ÿæµè§ˆå™¨ï¼Œå»å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè·å–å“åº”ä¿¡æ¯

## 2. çˆ¬è™«çš„æ ¸å¿ƒ

- 1.çˆ¬å–ç½‘é¡µï¼šçˆ¬å–æ•´ä¸ªç½‘é¡µ åŒ…å«äº†ç½‘é¡µä¸­æ‰€æœ‰å¾—å†…å®¹
- 2.è§£ææ•°æ®ï¼šå°†ç½‘é¡µä¸­ä½ å¾—åˆ°çš„æ•°æ® è¿›è¡Œè§£æ
- 3.éš¾ç‚¹ï¼šçˆ¬è™«å’Œåçˆ¬è™«ä¹‹é—´çš„åšå¼ˆ

## 3. çˆ¬è™«çš„ç”¨é€”

- æ•°æ®åˆ†æ/äººå·¥æ•°æ®é›†
- ç¤¾äº¤è½¯ä»¶å†·å¯åŠ¨
- èˆ†æƒ…ç›‘æ§
- ç«äº‰å¯¹æ‰‹ç›‘æ§

## 4. çˆ¬è™«çš„åˆ†ç±»

- é€šç”¨çˆ¬è™«ï¼š

  - å®ä¾‹

    ç™¾åº¦ï¼Œ360ï¼ŒGoogleï¼Œæœç‹—ç­‰æœç´¢å¼•æ“

  - åŠŸèƒ½

    è®¿é—®ç½‘é¡µ-ã€‹æŠ“å–æ•°æ®-ã€‹æ•°æ®å‚¨å­˜-ã€‹æ•°æ®å¤„ç†-ã€‹æä¾›æ£€ç´¢æœåŠ¡

  - robotsåè®®

    ä¸€ä¸ªçº¦å®šä¿—æˆçš„åè®®ï¼Œæ·»åŠ robots.txtæ–‡ä»¶ æ¥è¯´æ˜æœ¬ç½‘ç«™å“ªäº›å†…å®¹ä¸å¯è¢«æŠ“å–ï¼Œèµ·ä¸åˆ°é™åˆ¶ä½œç”¨ è‡ªå·±å†™çš„çˆ¬è™«æ— éœ€éµå®ˆ

  - ç½‘ç«™æ’åï¼ˆseoï¼‰

    1. æ ¹æ®pagerankç®—æ³•è¿›è¡Œæ’åï¼ˆå‚è€ƒå„ç«™æµé‡ï¼Œç‚¹å‡»ç‡ç­‰æŒ‡æ ‡ï¼‰
    2. ç™¾åº¦ç«ä»·æ’å

  - ç¼ºç‚¹

    1. æŠ“å–çš„æ•°æ®å¤§å¤šæ˜¯æ— ç”¨çš„
    2. ä¸èƒ½æ›´å…·ç”¨æˆ·çš„éœ€æ±‚æ¥ç²¾å‡†è·å–æ•°æ®

- èšç„¦çˆ¬è™«

  - åŠŸèƒ½ 

    æ ¹æ®éœ€æ±‚ï¼Œå®ç°çˆ¬è™«ç¨‹åºï¼ŒæŠ“å–éœ€è¦çš„æ•°æ®

  - è®¾è®¡æ€è·¯

    1. ç¡®å®šè¦çˆ¬å–çš„url

       å¦‚ä½•è·å–url

    2. æ¨¡æ‹Ÿæµè§ˆå™¨é€šè¿‡httpåè®®è®¿é—®urlï¼Œè·å–æœåŠ¡å™¨è¿”å›çš„htmlä»£ç 

       å¦‚ä½•è®¿é—®

    3. è§£æhtmlå­—ç¬¦ä¸²ï¼ˆæ ¹æ®ä¸€å®šè§„åˆ™æå–éœ€è¦çš„æ•°æ®ï¼‰

       å¦‚ä½•è§£æ

## 5. åçˆ¬æ‰‹æ®µ

 1. user-Agentï¼š
    
             user-Agentä¸­æ–‡åæœªç”¨æˆ·ä»£ç†ï¼Œæ£€æŸ¥UAï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ä¸²å¤´ï¼Œä½¿å¾—æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ï¼Œcpuç±»å‹ï¼Œæµè§ˆå™¨åŠç‰ˆæœ¬ï¼Œæµè§ˆå™¨æ¸²æŸ“å¼•æ“ï¼Œæµè§ˆå™¨é¢„çº¦ï¼Œæµè§ˆå™¨æ’ä»¶ç­‰
          
 2. ä»£ç†ip

       - è¥¿åˆºä»£ç†

       - å¿«ä»£ç†
       - ä»€ä¹ˆæ˜¯é«˜åŒ¿åï¼ŒåŒ¿åå’Œé€æ˜ä»£ç†ï¼Ÿå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
         1. ä½¿ç”¨é€æ˜ä»£ç†ï¼Œå¯¹æ–¹æœåŠ¡å™¨å¯ä»¥çŸ¥é“ä½ ä½¿ç”¨äº†ä»£ç†ï¼Œå¹¶ä¸”ä¹ŸçŸ¥é“ä½ çš„çœŸå®ip
         2. ä½¿ç”¨åŒ¿åä»£ç†ï¼Œå¯¹æ–¹æœåŠ¡å™¨å¯ä»¥çŸ¥é“ä½ ä½¿ç”¨äº†ä»£ç†ï¼Œä½†æ˜¯ä¸çŸ¥é“ä½ çš„çœŸå®ip
         3. ä½¿ç”¨é«˜åŒ¿åä»£ç†ï¼Œå¯¹æ–¹æœåŠ¡å™¨ä¸çŸ¥é“ä½ ä½¿ç”¨äº†ä»£ç†ï¼Œæ›´ä¸çŸ¥é“ä½ çš„çœŸå®IP

 3. éªŒè¯ç è®¿é—®

       - æ‰“ç å¹³å°
       - äº‘æ‰“ç å¹³å°
       - è¶…çº§ğŸ¦…

 4. åŠ¨æ€åŠ è½½ç½‘é¡µ        

       - ç½‘ç«™è¿”å›çš„æ˜¯jsæ•°æ® å¹¶ä¸æ˜¯ç½‘é¡µçš„çœŸå®æ•°æ®
       - selenlimé©±åŠ¨çœŸå®çš„æµè§ˆå™¨å‘é€è¯·æ±‚

 5. æ•°æ®åŠ å¯†

       - åˆ†æjsä»£ç 

## 6. urllibåº“çš„ä½¿ç”¨

```
urllib.request.urlopen()æ¨¡æ‹Ÿæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚

response        æœåŠ¡å™¨è¿”å›çš„æ•°æ®
    responseçš„æ•°æ®ç±»å‹æ˜¯HTTP response
    å­—èŠ‚â€”â€”ã€‹å­—ç¬¦ä¸²
                    è§£ç decode
    å­—ç¬¦ä¸²â€”â€”ã€‹å­—èŠ‚
                    ç¼–ç Encode
    read()                å­—èŠ‚å½¢å¼è¯»å–äºŒè¿›åˆ¶
    reafline()            è¯»å–ä¸€è¡Œ
    readlines()          ä¸€è¡Œä¸€è¡Œè¯»å– ç›´è‡³ç»“æŸ
    getcode()            è·å–çŠ¶æ€ç 
    ge'turl()                è·å–url
    getheaders()         è·å–headers
    
urllib.request.urlretrieve()
    è¯·æ±‚ç½‘é¡µ
    è¯·æ±‚å›¾ç‰‡
    è¯·æ±‚è§†é¢‘
```

```python
# urllibåŸºæœ¬ä½¿ç”¨-è·å–ç™¾åº¦é¡µé¢æºç 
import urllib.request

# 1. å®šä¹‰ä¸€ä¸ªurl, å°±æ˜¯è¦è®¿é—®çš„åœ°å€
url = "http://www.baidu.com"

# 2. æ¨¡æ‹Ÿæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶æ¥æ”¶å“åº”
response = urllib.request.urlopen(url)

# 3. è·å–å“åº”é¡µé¢ä¸­çš„æºç 
# read() è¿”å›çš„æ˜¯å­—èŠ‚å½¢å¼çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œéœ€è¦å°†äºŒè¿›åˆ¶çš„æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå³è§£ç  decode('ç¼–ç æ ¼å¼')
content = response.read().decode('utf-8')

# 4. æ‰“å°ç»“æœ
print(content)
```

```python
# urllibåŸºæœ¬ä½¿ç”¨ - ä¸€ä¸ªç±»å‹ï¼Œå…­ä¸ªæ–¹æ³•
import urllib.request

# 1. å®šä¹‰ä¸€ä¸ªurl, å°±æ˜¯è¦è®¿é—®çš„åœ°å€
url = "http://www.baidu.com"

# 2. æ¨¡æ‹Ÿæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶æ¥æ”¶å“åº”
response = urllib.request.urlopen(url)

##################ä¸€ä¸ªç±»å‹##################
# print(type(response))
# <class 'http.client.HTTPResponse'>

##################å…­ä¸ªæ–¹æ³•##################
# content = response.read()       # read() æ˜¯æŒ‰ç…§ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„è¯»
# content = response.read(5)      # read(n) è¡¨ç¤ºè¿”å›nä¸ªå­—èŠ‚
# content = response.readline()   # readline() åªè¯»å–ä¸€è¡Œ
# content = response.readlines()  # readlines() è¯»å–æ‰€æœ‰è¡Œ
# print(content)

# print(response.getcode())       # è¿”å›çŠ¶æ€ç ï¼Œ 200 è¡¨ç¤ºè¿”å›æ­£å¸¸
# print(response.geturl())        # è¿”å›è¯·æ±‚çš„urlåœ°å€ http://www.baidu.com
# print(response.getheaders())    # è¿”å›è¯·æ±‚å¤´
```

```python
# urllibåŸºæœ¬ä½¿ç”¨ - ä¸‹è½½
import urllib.request

# ä¸‹è½½ç½‘é¡µ
# url_page = 'http://www.baidu.com'
# urllib.request.urlretrieve(url_page, 'baidu.html') # å‚æ•°æ˜¯æ˜¯ä¸‹è½½è·¯å¾„ï¼Œå‚æ•°2æ˜¯ç»™ä¸‹è½½çš„æ–‡ä»¶èµ·ä¸ªåå­—

# ä¸‹è½½å›¾ç‰‡
# url_img = 'https://nimg.ws.126.net/?url=https://dingyue.ws.126.net/2021/0329/8ad4eca3j00qqq7cr0064c000u000tim.jpg&thumbnail=650x2147483647&quality=80&type=jpg'
# urllib.request.urlretrieve(url=url_img, filename='jieqi.jpg')

# ä¸‹è½½è§†é¢‘
url_video = 'https://vd3.bdstatic.com/mda-mhkku4ndaka5etk3/sc/cae_h264/1629557146440689988/mda-mhkku4ndaka5etk3.mp4?v_from_s=hkapp-haokan-nanjing&amp;auth_key=1675259913-0-0-5f767ca337e72bc7ed98ace1397f0070&amp;bcevod_channel=searchbox_feed&amp;cd=0&amp;pd=1&amp;pt=3&amp;logid=1712979472&amp;vid=7322829317245497064&amp;abtest=106847_1&amp;klogid=1712979472'
urllib.request.urlretrieve(url=url_video, filename='haokan.mp4')
```

## 7. è¯·æ±‚å¯¹è±¡çš„å®šåˆ¶

UAä»‹ç»ï¼šUser Agentä¸­æ–‡åä¸ºç”¨æˆ·ä»£ç†ï¼Œç®€ç§° UAï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ä¸²å¤´ï¼Œä½¿å¾—æœåŠ¡å™¨èƒ½å¤Ÿè¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿ åŠç‰ˆæœ¬ã€CPU ç±»å‹ã€æµè§ˆå™¨åŠç‰ˆæœ¬ã€‚æµè§ˆå™¨å†…æ ¸ã€æµè§ˆå™¨æ¸²æŸ“å¼•æ“ã€æµè§ˆå™¨è¯­è¨€ã€æµè§ˆå™¨æ’ä»¶ç­‰

è¯­æ³•ï¼š`request = urllib.request.Request()`

```python
# urllibåŸºæœ¬ä½¿ç”¨ - è¯·æ±‚å¯¹è±¡çš„å®šåˆ¶
import urllib.request

url_page = 'https://www.baidu.com'

# ä¼ªé€  headers
headers = {
    'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36'
}

# å› ä¸º urlopen æ–¹æ³•ä¸­ä¸èƒ½å­˜å‚¨å­—å…¸ï¼Œæ‰€ä»¥ headers ä¸èƒ½ç›´æ¥ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œéœ€è¦å®šåˆ¶è¯·æ±‚å¯¹è±¡
# æ³¨æ„ï¼Œå› ä¸ºå‚æ•°é¡ºåºçš„é—®é¢˜ (Request éœ€è¦çš„ä¸‰ä¸ªå‚æ•° (url, data=None, headers={}), ä¸­é—´æœ‰ä¸ªdata), æ‰€ä»¥éœ€è¦ç”¨å…³é”®å­—ä¼ å‚
request = urllib.request.Request(url=url_page, headers=headers)

response = urllib.request.urlopen(request)
content = response.read().decode('utf-8')
print(content)
```

## 8. ç¼–è§£ç 

- getè¯·æ±‚æ–¹å¼ï¼š

  - urllib.parse.quoteï¼ˆï¼‰

    quoteï¼ˆï¼‰æ–¹æ³•èƒ½å¤Ÿå°†æ±‰å­—è½¬æ¢æˆunicodeç¼–ç çš„æ ¼å¼ï¼Œé€‚ç”¨äºå•ä¸ªå‚æ•°

    ```python
    # urllibåŸºæœ¬ä½¿ç”¨ - ç¼–è§£ç 
    import urllib.request
    import urllib.parse
    
    url_page = 'https://www.baidu.com/s?wd='
    
    headers = {
        'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36'
    }
    
    search_word = urllib.parse.quote('å‘¨æ°ä¼¦') # quoteï¼ˆï¼‰æ–¹æ³•èƒ½å¤Ÿå°†æ±‰å­—è½¬æ¢æˆunicodeç¼–ç çš„æ ¼å¼ï¼Œé€‚ç”¨äºå•ä¸ªå‚æ•°
    url_page = url_page + search_word
    
    request = urllib.request.Request(url=url_page, headers=headers)
    
    response = urllib.request.urlopen(request)
    content = response.read().decode('utf-8')
    print(content)
    ```

  - getè¯·æ±‚æ–¹å¼ï¼šurllib.parse.urlencodeï¼ˆï¼‰

    urlencodeï¼ˆï¼‰æ–¹æ³•ä¹Ÿå¯ä»¥å°†æ±‰å­—è½¬æ¢æˆunicodeç¼–ç ï¼Œé€‚ç”¨äºå¤šä¸ªå‚æ•°ï¼Œå¤šä¸ªå‚æ•°éœ€è¦æ”¾åˆ°å­—å…¸é‡Œ

    ```python
    # urllibåŸºæœ¬ä½¿ç”¨ - ç¼–è§£ç 
    import urllib.request
    import urllib.parse
    
    url_page = 'https://www.baidu.com/s?wd='
    
    headers = {
        'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36'
    }
    
    data = {
        'wd' : 'å‘¨æ°ä¼¦',
        'sex' : 'ç”·'
    }
    
    search_word = urllib.parse.urlencode(data) # urlencode() æ–¹æ³•ä¹Ÿå¯ä»¥å°†æ±‰å­—è½¬æ¢æˆunicodeç¼–ç ï¼Œé€‚ç”¨äºå¤šä¸ªå‚æ•°ï¼Œå¤šä¸ªå‚æ•°éœ€è¦æ”¾åˆ°å­—å…¸é‡Œ
    url_page = url_page + search_word
    
    request = urllib.request.Request(url=url_page, headers=headers)
    
    response = urllib.request.urlopen(request)
    content = response.read().decode('utf-8')
    print(content)
    ```

- postè¯·æ±‚æ–¹å¼

  ```python
  # urllibåŸºæœ¬ä½¿ç”¨ - ç¼–è§£ç  - postè¯·æ±‚ä¹‹ç™¾åº¦ç¿»è¯‘
  import urllib.request
  import urllib.parse
  import json
  
  url_page = 'https://fanyi.baidu.com/sug'
  
  headers = {
      'User-Agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36'
  }
  
  data = {
      'kw' : 'spider'
  }
  
  # post è¯·æ±‚çš„å‚æ•°å¿…é¡»è¦è¿›è¡Œç¼–ç 
  data = urllib.parse.urlencode(data).encode('utf-8')
  
  # postçš„è¯·æ±‚å‚æ•°éœ€è¦æ”¾åœ¨è¯·æ±‚å¯¹è±¡å®šåˆ¶çš„å‚æ•°ä¸­
  request = urllib.request.Request(url=url_page, data=data, headers=headers)
  
  response = urllib.request.urlopen(request)
  content = response.read().decode('utf-8')
  
  # postè¯·æ±‚çš„å“åº”ç»“æœæ˜¯ä¸€ä¸ªjsonæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œéœ€è¦jsonè§£æ
  obj = json.loads(content)
  print(obj)
  ```

  ```python
  # urllibåŸºæœ¬ä½¿ç”¨ - postè¯·æ±‚ä¹‹ç™¾åº¦ç¿»è¯‘-è¯¦ç»†ç¿»è¯‘
  import urllib.request
  import urllib.parse
  import json
  
  url_page = 'https://fanyi.baidu.com/sug'
  
  # headers é‡Œèµ·å†³å®šå› ç´ çš„å‚æ•°æ˜¯ Cookie
  headers = {
      # 'Accept':'*/*',
      # 'Accept-Encoding':'gzip, deflate, br', è¿™è¡ŒæŒ‡å®šäº†å¯æ¥å—çš„ç¼–ç æ ¼å¼ï¼Œä½†æ˜¯ä¸åŒ…å«utf-8,å…ˆæ³¨é‡Šèµ·æ¥
      # 'Accept-Language':'zh-CN,zh;q=0.9,en;q=0.8',
      # 'Acs-Token':'1675584313980_1675610295753_u30LM1FFW8cEtKgfvq0kzbWSYrfK+bn1XO39/QqGSxpPVAQRSt8w8udSquJYBYCQXxjPJaTgDIMdglGU5eTzzIDIIPL4Uctg8kwqTGAlmhWD1J/hUHLqCB4aF9qx92IkuTiNTbDSGCQNiFo6s3Amvvd5sfiz1BDXFgHIUSxvyuN7POG97O0XFRZAOIDCK3fVJPWuhzgduG7pa/aPx+cvXrYnn5RSjVt3g5/OEQeov6bbYI2kr0lFm9loKTbxEd8VjTeUQjvKgfC5Lx6WNTgvB2KUPdHe4nsPn8+eYpvM+OaLfitUFuGtIzH0aENRprmuWIDBtLjfkxODl4ckg5TWLQ==',
      # 'Connection':'keep-alive',
      # 'Content-Length':'136',
      # 'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',
      'Cookie':'PSTM=1664362392; BIDUPSID=A55A48D1030935304D33A040AAED67A4; BDUSS=01LbVB4VUNyVlN4ZkE3cGhDd1ZrdE4wLWlyV1p2bnd2azU5dWZHU0tYSDFYMkpqSVFBQUFBJCQAAAAAAAAAAAEAAAAGaGEouN~O78r9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPXSOmP10jpjZ; BDUSS_BFESS=01LbVB4VUNyVlN4ZkE3cGhDd1ZrdE4wLWlyV1p2bnd2azU5dWZHU0tYSDFYMkpqSVFBQUFBJCQAAAAAAAAAAAEAAAAGaGEouN~O78r9AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPXSOmP10jpjZ; BAIDUID=DFF5C8264956F30AA8C8AC46F1081ED4:SL=0:NR=10:FG=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BAIDUID_BFESS=DFF5C8264956F30AA8C8AC46F1081ED4:SL=0:NR=10:FG=1; APPGUIDE_10_0_2=1; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1675608983; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1675608983; PSINO=2; delPer=0; BA_HECTOR=8h212g21058020048l0505la1htvhjq1k; ZFY=NJUQYDXdXWmdrCNv71Wn7nXhPasNbYVvsiRu5R4eG1w:C; H_PS_PSSID=36557_37521_38094_38130_37910_37989_37921_38089_26350_37959_22158_38008_37881; ab_sr=1.0.1_MjUzZmQyYjAwNjQ2ZTZlMzg1ZWFmNjAzMWJlYjAyZTM5YjI0MjU5YjA2YWQzMzQzYzNhZjRjYWUxM2RjOTg4NzI3MTFiNzk4OGVjODVkYTExN2FkMjdjMTNjYzk2ODRmOWU4ZTRjZDYyZWFkYjRlM2UyZDM2MWI0MmM5NWMwODI4YTIyZTcwMzNmM2ZjYTljYzUzODc5OGM0ZjVkNjNhMmNiNGUyMGYzNzA5MjkwOTVlMGFlNjYxYTBmMWY2YWI3',
      # 'Host':'fanyi.baidu.com',
      # 'Origin':'https://fanyi.baidu.com',
      # 'Referer':'https://fanyi.baidu.com/?aldtype=16047',
      # 'sec-ch-ua':'"Not_A Brand";v="99", "Google Chrome";v="109", "Chromium";v="109"',
      # 'sec-ch-ua-mobile':'?0',
      # 'sec-ch-ua-platform':'"Windows"',
      # 'Sec-Fetch-Dest':'empty',
      # 'Sec-Fetch-Mode':'cors',
      # 'Sec-Fetch-Site':'same-origin',
      # 'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',
      # 'X-Requested-With':'XMLHttpRequest'
  }
  
  data = {
      'from': 'en',
      'to': 'zh',
      'query': 'love',
      'transtype':'translang',
      'simple_means_flag': '3',
      'sign': '198772.518981',
      'token': '7bdf5b0ea077daeca078bc7c76e280b0',
      'domain': 'common'
  }
  
  # post è¯·æ±‚çš„å‚æ•°å¿…é¡»è¦è¿›è¡Œç¼–ç 
  data = urllib.parse.urlencode(data).encode('utf-8')
  
  # postçš„è¯·æ±‚å‚æ•°éœ€è¦æ”¾åœ¨è¯·æ±‚å¯¹è±¡å®šåˆ¶çš„å‚æ•°ä¸­
  request = urllib.request.Request(url=url_page, data=data, headers=headers)
  
  response = urllib.request.urlopen(request)
  content = response.read().decode('utf-8')
  
  # postè¯·æ±‚çš„å“åº”ç»“æœæ˜¯ä¸€ä¸ªjsonæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œéœ€è¦jsonè§£æ
  obj = json.loads(content)
  print(obj)
  
  # æ‰§è¡Œç»“æœæœ‰æŠ¥é”™  {'errno': 1000, 'errmsg': 'æœªçŸ¥é”™è¯¯'}
  ```

  - postè¯·æ±‚æ–¹å¼ä¸getè¯·æ±‚æ–¹å¼åŒºåˆ«

    1ï¼šgetè¯·æ±‚æ–¹å¼çš„å‚æ•°å¿…é¡»ç¼–ç ï¼Œå‚æ•°æ˜¯æ‹¼æ¥åˆ°urlåé¢ï¼Œç¼–ç ä¹‹åä¸éœ€è¦è°ƒç”¨encodeæ–¹æ³•

    2ï¼špostè¯·æ±‚æ–¹å¼çš„å‚æ•°å¿…é¡»ç¼–ç ï¼Œå‚æ•°æ˜¯æ”¾åœ¨è¯·æ±‚å¯¹è±¡å®šåˆ¶çš„æ–¹æ³•ä¸­ï¼Œç¼–ç ä¹‹åéœ€è¦è°ƒç”¨encodeæ–¹æ³•

- **ajaxçš„getè¯·æ±‚**

- **ajaxçš„postè¯·æ±‚**

- **cookieç™»å½•**

## å†™çˆ¬è™«çš„æ€è·¯

1. ç»™ä¸€ä¸ªurl
2.  å†™ç¨‹åºï¼Œæ¨¡æ‹Ÿæµè§ˆå™¨è®¿é—®url
3.  è§£æå†…å®¹ï¼Œæå–æ•°æ®

## æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹

1. ä½¿ç”¨åˆ°çš„åº“:
       urllib/requests/bs4
2. è§£æç½‘é¡µå†…å®¹çš„çŸ¥è¯†
       æ­£åˆ™è¡¨è¾¾å¼, bs4, xpath, jsonpath
3. è®¾è®¡åˆ°åŠ¨æ€ html
       selenium+phantomjs, chromeheadless
4. scrapy æ¡†æ¶
       é«˜æ€§èƒ½æ¡†æ¶ä½¿ç”¨
5. scrapy-redis ç»„ä»¶
       redis, åˆ†å¸ƒå¼çˆ¬è™«
6. è®¾è®¡åˆ°çˆ¬è™«-åçˆ¬è™«-ååçˆ¬è™«çš„ä¸€äº›å†…å®¹
       UA, ä»£ç†ï¼Œ éªŒè¯ç ï¼Œ åŠ¨æ€é¡µé¢ç­‰

## http å’Œ https åè®®

```
å‚è€ƒé“¾æ¥ï¼šhttps://www.cnblogs.com/wqhwe/p/5407468.html
    è¶…æ–‡æœ¬ä¼ è¾“åè®®HTTPåè®®è¢«ç”¨äºåœ¨Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼ŒHTTPåè®®ä»¥æ˜æ–‡æ–¹å¼å‘é€å†…å®¹ï¼Œä¸æä¾›ä»»ä½•æ–¹å¼çš„æ•°æ®åŠ å¯†ï¼Œ
å¦‚æœæ”»å‡»è€…æˆªå–äº†Webæµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è¯»æ‡‚å…¶ä¸­çš„ä¿¡æ¯ï¼Œå› æ­¤ï¼ŒHTTPåè®®ä¸é€‚åˆä¼ è¾“ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šä¿¡ç”¨å¡å·ã€å¯†ç ç­‰æ”¯ä»˜ä¿¡æ¯ã€‚
ã€€ã€€     ä¸ºäº†è§£å†³HTTPåè®®çš„è¿™ä¸€ç¼ºé™·ï¼Œéœ€è¦ä½¿ç”¨å¦ä¸€ç§åè®®ï¼šå®‰å…¨å¥—æ¥å­—å±‚è¶…æ–‡æœ¬ä¼ è¾“åè®®HTTPSï¼Œä¸ºäº†æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼ŒHTTPSåœ¨HTTPçš„åŸºç¡€ä¸ŠåŠ å…¥äº†SSLåè®®ï¼Œ
SSLä¾é è¯ä¹¦æ¥éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œå¹¶ä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡åŠ å¯†.
    http(ç«¯å£å·80) æ˜¯åº”ç”¨å±‚åè®® https(ç«¯å£å·443)
    å®¢æˆ·ç«¯åœ¨ä½¿ç”¨HTTPSæ–¹å¼ä¸WebæœåŠ¡å™¨é€šä¿¡æ—¶æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚
ã€€ã€€ï¼ˆ1ï¼‰å®¢æˆ·ä½¿ç”¨httpsçš„URLè®¿é—®WebæœåŠ¡å™¨ï¼Œè¦æ±‚ä¸WebæœåŠ¡å™¨å»ºç«‹SSLè¿æ¥ã€‚
ã€€ã€€ï¼ˆ2ï¼‰WebæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œä¼šå°†ç½‘ç«™çš„è¯ä¹¦ä¿¡æ¯ï¼ˆè¯ä¹¦ä¸­åŒ…å«å…¬é’¥ï¼‰ä¼ é€ä¸€ä»½ç»™å®¢æˆ·ç«¯ã€‚
ã€€ã€€ï¼ˆ3ï¼‰å®¢æˆ·ç«¯çš„æµè§ˆå™¨ä¸WebæœåŠ¡å™¨å¼€å§‹åå•†SSLè¿æ¥çš„å®‰å…¨ç­‰çº§ï¼Œä¹Ÿå°±æ˜¯ä¿¡æ¯åŠ å¯†çš„ç­‰çº§ã€‚
ã€€ã€€ï¼ˆ4ï¼‰å®¢æˆ·ç«¯çš„æµè§ˆå™¨æ ¹æ®åŒæ–¹åŒæ„çš„å®‰å…¨ç­‰çº§ï¼Œå»ºç«‹ä¼šè¯å¯†é’¥ï¼Œç„¶ååˆ©ç”¨ç½‘ç«™çš„å…¬é’¥å°†ä¼šè¯å¯†é’¥åŠ å¯†ï¼Œå¹¶ä¼ é€ç»™ç½‘ç«™ã€‚
ã€€ã€€ï¼ˆ5ï¼‰WebæœåŠ¡å™¨åˆ©ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å‡ºä¼šè¯å¯†é’¥ã€‚
ã€€ã€€ï¼ˆ6ï¼‰WebæœåŠ¡å™¨åˆ©ç”¨ä¼šè¯å¯†é’¥åŠ å¯†ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚

å‚è€ƒé“¾æ¥ï¼šhttps://www.cnblogs.com/10158wsj/p/6762848.html
ä¸€æ¬¡HTTPæ“ä½œç§°ä¸ºä¸€ä¸ªäº‹åŠ¡ï¼Œå…¶å·¥ä½œè¿‡ç¨‹å¯åˆ†ä¸ºå››æ­¥ï¼š
1ï¼‰é¦–å…ˆå®¢æˆ·æœºä¸æœåŠ¡å™¨éœ€è¦å»ºç«‹è¿æ¥ã€‚åªè¦å•å‡»æŸä¸ªè¶…çº§é“¾æ¥ï¼ŒHTTPçš„å·¥ä½œå¼€å§‹ã€‚
2ï¼‰å»ºç«‹è¿æ¥åï¼Œå®¢æˆ·æœºå‘é€ä¸€ä¸ªè¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œè¯·æ±‚æ–¹å¼çš„æ ¼å¼ä¸ºï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURLï¼‰ã€åè®®ç‰ˆæœ¬å·ï¼Œåè¾¹æ˜¯MIMEä¿¡æ¯åŒ…æ‹¬è¯·æ±‚ä¿®é¥°ç¬¦ã€å®¢æˆ·æœºä¿¡æ¯å’Œå¯èƒ½çš„å†…å®¹ã€‚
3ï¼‰æœåŠ¡å™¨æ¥åˆ°è¯·æ±‚åï¼Œç»™äºˆç›¸åº”çš„å“åº”ä¿¡æ¯ï¼Œå…¶æ ¼å¼ä¸ºä¸€ä¸ªçŠ¶æ€è¡Œï¼ŒåŒ…æ‹¬ä¿¡æ¯çš„åè®®ç‰ˆæœ¬å·ã€ä¸€ä¸ªæˆåŠŸæˆ–é”™è¯¯çš„ä»£ç ï¼Œåè¾¹æ˜¯MIMEä¿¡æ¯åŒ…æ‹¬æœåŠ¡å™¨ä¿¡æ¯ã€å®ä½“ä¿¡æ¯å’Œå¯èƒ½çš„å†…å®¹ã€‚
4ï¼‰å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡å™¨æ‰€è¿”å›çš„ä¿¡æ¯é€šè¿‡æµè§ˆå™¨æ˜¾ç¤ºåœ¨ç”¨æˆ·çš„æ˜¾ç¤ºå±ä¸Šï¼Œç„¶åå®¢æˆ·æœºä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥ã€‚
å¦‚æœåœ¨ä»¥ä¸Šè¿‡ç¨‹ä¸­çš„æŸä¸€æ­¥å‡ºç°é”™è¯¯ï¼Œé‚£ä¹ˆäº§ç”Ÿé”™è¯¯çš„ä¿¡æ¯å°†è¿”å›åˆ°å®¢æˆ·ç«¯ï¼Œæœ‰æ˜¾ç¤ºå±è¾“å‡ºã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œè¿™äº›è¿‡ç¨‹æ˜¯ç”±HTTPè‡ªå·±å®Œæˆçš„ï¼Œç”¨æˆ·åªè¦ç”¨é¼ æ ‡ç‚¹å‡»ï¼Œç­‰å¾…ä¿¡æ¯æ˜¾ç¤ºå°±å¯ä»¥äº†ã€‚
```

### HTTPè¯·æ±‚ä¸­çš„å¸¸ç”¨æ¶ˆæ¯å¤´:

```
   accept:æµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹
ã€€ã€€Accept-Charset: æµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒæ”¯æŒå“ªç§å­—ç¬¦é›†
ã€€ã€€Accept-Encodingï¼šæµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œæ”¯æŒçš„å‹ç¼©æ ¼å¼
ã€€ã€€Accept-Languageï¼šæµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ
ã€€ã€€Hostï¼šæµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œæƒ³è®¿é—®å“ªå°ä¸»æœº
ã€€ã€€If-Modified-Since: æµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œç¼“å­˜æ•°æ®çš„æ—¶é—´
ã€€ã€€Refererï¼šæµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·æœºæ˜¯å“ªä¸ªé¡µé¢æ¥çš„  é˜²ç›—é“¾
ã€€ã€€Connectionï¼šæµè§ˆå™¨é€šè¿‡è¿™ä¸ªå¤´å‘Šè¯‰æœåŠ¡å™¨ï¼Œè¯·æ±‚å®Œåæ˜¯æ–­å¼€é“¾æ¥è¿˜æ˜¯ä½•æŒé“¾æ¥
   X-Requested-With: XMLHttpRequest, é€šè¿‡ajaxæ–¹å¼è¿›è¡Œè®¿é—®
```

### HTTPå“åº”ç»†èŠ‚â€”â€”å¸¸ç”¨å“åº”å¤´ï¼š

```
    Location: æœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œæ¥å‘Šè¯‰æµè§ˆå™¨è·³åˆ°å“ªé‡Œ
ã€€ã€€Serverï¼šæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨æœåŠ¡å™¨çš„å‹å·
ã€€ã€€Content-Encodingï¼šæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨ï¼Œæ•°æ®çš„å‹ç¼©æ ¼å¼
ã€€ã€€Content-Length: æœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨å›é€æ•°æ®çš„é•¿åº¦
ã€€ã€€Content-Language: æœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨è¯­è¨€ç¯å¢ƒ
ã€€ã€€Content-Typeï¼šæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨å›é€æ•°æ®çš„ç±»å‹
ã€€ã€€Refreshï¼šæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨å®šæ—¶åˆ·æ–°
ã€€ã€€Content-Disposition: æœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨ä»¥ä¸‹è½½æ–¹å¼æ‰“æ•°æ®
ã€€ã€€Transfer-Encodingï¼šæœåŠ¡å™¨é€šè¿‡è¿™ä¸ªå¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨æ•°æ®æ˜¯ä»¥åˆ†å—æ–¹å¼å›é€çš„
ã€€ã€€Expires: -1  æ§åˆ¶æµè§ˆå™¨ä¸è¦ç¼“å­˜
ã€€ã€€Cache-Control: no-cache
ã€€ã€€Pragma: no-cache
```

